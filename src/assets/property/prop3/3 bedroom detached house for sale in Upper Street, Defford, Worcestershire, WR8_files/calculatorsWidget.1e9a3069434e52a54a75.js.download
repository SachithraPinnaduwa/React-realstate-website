"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[891],{12538:(t,e,a)=>{a.r(e),a.d(e,{default:()=>p});var r=a(89526),n=a(42708),o=a(45676),l=a(71582),i=a(45173),u=a(22034),c=a(76965),s=a(93258);const d="_3pyCBR50yPtd7ELn-Glmgn";const m=t=>{const[e,a]=(0,r.useState)(0),n=(0,r.useRef)(null),{channel:o,mortgageCalculator:l,showStampDutyCalculator:i}=t;if((0,r.useEffect)((()=>{const t=t=>{try{if(t.origin.startsWith((0,c.J)().location.origin)){const e=t.data,r=t.source.location;if("resizeMortgageCalculator"===e.type){if(r.href.match("gtmEventModulePrefix=tray"))return;return void a(e.height+2)}}}catch(e){}};return(0,c.J)().addEventListener("message",t),()=>{(0,c.J)().removeEventListener("message",t)}}),[]),!(0,s.HP)(o)||!l)return null;const u={height:e?`${e}px`:"auto",minHeight:e?`${e}px`:void 0};return r.createElement("div",{className:d,id:"mortgageCalculator"},r.createElement("iframe",{title:"Rightmove Mortgage repayment calculator",style:u,src:`/mortgage-calculator?price=${l.price}&propertyType=${l.propertyTypeAlias}&showStampDutyCalculator=${i}`,ref:n,onLoad:()=>{var t,e,a;(null==(a=null==(e=null==(t=n.current)?void 0:t.contentWindow)?void 0:e.document)?void 0:a.body)&&(n.current.contentWindow.document.body.style.overflow="hidden")}}))};var g=a(61515);const p=t=>{var e;const{channel:a,ukCountry:c,mortgageCalculator:s,address:d}=t,p=(0,l.pv)(),{isAuthenticated:h,consumerData:y}=(0,i.SE)(),{ref:v,inView:E}=(0,n.YD)({triggerOnce:!0,rootMargin:"600px 0px"}),D=p.isEnabled(u.LK.name)&&("England"===c||"Northern Ireland"===c);return r.createElement("div",{ref:v},D&&r.createElement(g.StampDutyCalculator,{title:"Stamp Duty calculator",isAuthenticated:h,authenticateUser:()=>o.Z.getInstance().authenticate("save this","sdc"),shouldPersistUserType:!0,shouldShowAvatar:!0,consumerInitials:null==y?void 0:y.consumerInitials,shouldShowFindOutLinkInDisclaimer:!0,landingPageLinkEnabled:!0,inView:E,initialCalculationResult:[],initialProps:{stampDutyCountry:g.StampDutyCountry.ENGLAND,propertyValue:null!=(e=null==s?void 0:s.price)?e:0,locationDisplayName:(f=null==d?void 0:d.outcode,C=null==d?void 0:d.incode,f?C?f+C:f:"")}}),s&&r.createElement(m,{channel:a,mortgageCalculator:s,showStampDutyCalculator:D,"data-testid":"mortgage-calculator"}));var f,C}}}]);